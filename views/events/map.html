{% extends "events/layout.html" %}

{% block title %}Event Map{% endblock %}
{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="/ext/css/jquery.timepicker.css">
  <link rel="stylesheet" href="/ext/css/bootstrap-markdown.css">
{% endblock %}

{% block body %}

<div class="overlay-container">
<div class="map-overlay">

    <form id="find-event" action="/events" method="GET">
        <h2><span class="icon-search"></span> Find an event</h2>
        <input name="_csrf" type="hidden" value="{{ csrf_token }}" />
        <input name="find-where" type="text" placeholder="Where?" />
        <input name="find-when"  type="date" placeholder="When?" />
        <button type="submit"><span class="icon-chevron-right"></span></button>
    </form>

    <div id="add-event-button">
        <h2 class='formExpandButton'><span class="icon-plus"></span> Add an event</h2>
    </div>

    <form id="create-event" action="/events" method="POST" enctype="multipart/form-data" class='hidden'>
        <h2 class='formExpandButton'><span class="icon-remove"></span> Add an event</h2>
        <fieldset>
            <label for="title"> Name your event </label>
            <span class="cell"><input name="title"
                placeholder="Use an awesome title so people will come!" /></span>

            <label for="description"> Describe your event </label>
            <textarea name="description" data-provide="markdown"
                placeholder="Tell people a few more details about your event. What can they expect?"></textarea><br />
        </fieldset>
        <fieldset>
            <label for="attendees"> How many attendees are you expecting? </label>
            <div><select name="attendees">
                <option value=0> 1-10 </option>
                <option value=1> 10-20 </option>
                <option value=2> 20-50 </option>
                <option selected
                        value=3> 50-100 </option>
                <option value=4> 100-200 </option>
                <option value=5> 200-500 </option>
                <option value=5> 500+ </option>
            </select></div><br />

            <label for="address"> Event location </label>
            <span class="cell ui-input ui-append">
                <input name="address" type="text" />
            </span>

            <input name="latitude" type="hidden" />
            <input name="longitude" type="hidden" />

            <label for="registerLink"> Event Link </label>
            <span class="cell ui-input ui-append">
                <input name="registerLink" type="url"
                        placeholder="Link to registration page" />
            </span>

            {% for i in ['begin','end'] %}
            <label for="{{i}}Date"> Event {{i}}s </label>
            <div class='datetime'>
                <span class="ui-append ui-select">
                    <span class="icon-calendar"></span>
                    <input name="{{i}}Date" type="text" class="datepicker"
                            placeholder="--/--/--" />
                    <a class="icon icon-chevron-down"></a>
                </span>
                <span class="ui-append ui-input">
                    <input name="{{i}}Time" type="text" class="timepicker"
                        placeholder="--:--  --" />
                </span>
            </div>
            {% endfor %}

            <div class="upload">
                <input name="picture" type="file" accept="image/*" />
                <div id="image-upload">Upload an image</div>
            </div>
            <input name="_csrf" type="hidden" value="{{ csrf_token }}" />

            <button type="submit"><span class="icon-plus"></span> Submit your event</button>
        </fieldset>
    </form>
</div>
</div>

<div id="map-canvas"></div>

{% endblock %}
