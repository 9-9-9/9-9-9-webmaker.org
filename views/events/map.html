{% extends "events/layout.html" %}

{% block title %}Event Map{% endblock %}

{% block body %}
{{ super() }}
<div class="overlay-container">
<div class="map-overlay">
    <form id="find-event" action="/events" method="GET">
        <h2><span class="icon-search"></span> Find an event</h2>
        <input name="_csrf" type="hidden" value="{{ csrf }}" />
        <input name="find-where" type="text" placeholder="Where?" />
        <input name="find-when"  type="text" placeholder="When?" class="datepicker" />
        <button type="submit"><span class="icon-chevron-right"></span></button>
    </form>

    <div id="add-event-button">
        <h2 class='formExpandButton'><span class="icon-plus"></span> Add an event</h2>
    </div>

    <form id="create-event" action="/events" method="POST" class='hidden'>
        <h2 class='formExpandButton'><span class="icon-remove"></span> Add an event</h2>
        <fieldset>
            <label for="event_title"> Name your event </label>
            <span class="cell ui-input ui-append"><input id="event_title" name="title"
                placeholder="Use an awesome title so people will come!" /></span>

            <label for="event_description"> Describe your event </label>
            <textarea id="event_description" name="description" data-provide="markdown"
                placeholder="Tell people a few more details about your event. What can they expect?"></textarea><br />
        </fieldset>
        <fieldset>
            <label for="event_attendees"> How many attendees are you expecting? </label>
            <div><select id="event_attendees" name="attendees">
                <option value=0> 1-10 </option>
                <option value=1> 10-20 </option>
                <option value=2> 20-50 </option>
                <option selected
                        value=3> 50-100 </option>
                <option value=4> 100-200 </option>
                <option value=5> 200-500 </option>
                <option value=5> 500+ </option>
            </select></div><br />

            <label for="event_address"> Event location </label>
            <span class="cell ui-input ui-append">
                <input id="event_address" name="address" type="text" />
            </span>

            <input name="latitude" type="hidden" />
            <input name="longitude" type="hidden" />

            <label for="event_registerLink"> Event Link </label>
            <span class="registerLink cell ui-input ui-append">
                <input id="event_registerLink" name="registerLink" type="url"
                        placeholder="Link to registration page" /> </span>

            {% for i in ['begin','end'] %}
            <label for="event_{{i}}Date"> Event {{i}}s </label>
            <div class='datetime'>
                <span class="ui-append ui-select ui-input select-date">
                    <span class="icon-calendar"></span>
                    <input id="event_{{i}}Date" name="{{i}}Date" type="text" class="datepicker"
                            placeholder="--/--/--" />
                    <a class="icon icon-chevron-down"></a>
                </span>
                <label class="switch"></label>
                <span class="ui-append ui-select ui-input select-time">
                    <input name="{{i}}Time" type="text" class="timepicker"
                            placeholder="--:--  --" />
                    <a class="icon icon-chevron-down"></a>
                </span>
            </div>
            {% endfor %}

            <div class="upload">
                <input type="file" accept="image/*" />
                <input name="picture" type="hidden" />
                <div id="image-upload">Upload an image</div>
            </div>
            <input name="_csrf" type="hidden" value="{{ csrf }}" />

            <button type="submit"><span class="icon-plus"></span> Submit your event</button>
        </fieldset>
    </form>
</div>
</div>

<div id="map-canvas"></div>

{% endblock %}
