{% extends "events/layout.html" %}

{% block title %}Event Admin{% endblock %}

{% block body %}
{% set columns = [ 'id', 'title', 'beginDate', 'endDate', 'beginTime', 'endTime', 'address', 'organizerId' ] %}
<table id="event-list">
  <thead>
    <tr>
      <td><i class="icon-star"></i></td>
      {% for c in columns %} <td>{{ c }}</td> {% endfor %}
    </tr>
  </thead>
  <tbody>
  {% for event in events %}
    <tr>
      <td><form class="toggle-featured" action="{{ event.uri }}" data-remote="true" data-type="json" method="PATCH">
            <button class="featured-star {% if event.featured %}hidden{% endif %}"
                    type="submit" name="featured" value="true">
              <i class="icon-star-empty"></i></button>
            <button class="featured-star {% if not event.featured %}hidden{% endif %}"
                    type="submit" name="featured" value="false">
              <i class="icon-star"></i></button>
          </form></td>
      {% for c in columns %} <td>{{ event[c] }}</td> {% endfor %}
      <td><a data-remote="true" data-confirm="Really delete?" data-method="DELETE" href="{{ event.uri }}">
          <i class="icon-remove-sign"></i></a></td>
      <td><a href="{{ event.uri }}#edit"><i class="icon-edit-sign"></i></a></td>
      <td><a href="{{ event.uri }}"><i class="icon-chevron-sign-right"></i></a></td>
    </tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}

{% block footer %}{% endblock %}
